sudo: required
dist: xenial
language: java

before_install:
    - sudo apt-get update
    - sudo apt-get install --yes m4 libgmp-dev
    - git clone https://github.com/verificatum/verificatum-gmpmee.git && cd verificatum-gmpmee && make -f Makefile.build && ./configure && make && sudo make install && cd - && sudo /sbin/ldconfig
    - git clone https://github.com/verificatum/verificatum-vmgj.git && cd verificatum-vmgj && make -f Makefile.build && ./configure && make && sudo make install && cd - && sudo /sbin/ldconfig
    - git clone https://github.com/verificatum/verificatum-vec.git && cd verificatum-vec && make -f Makefile.build && ./configure && make && sudo make install && cd - && sudo /sbin/ldconfig
    - git clone https://github.com/verificatum/verificatum-vecj.git && cd verificatum-vecj && make -f Makefile.build && ./configure && make && sudo make install && cd - && sudo /sbin/ldconfig
    - git clone https://github.com/verificatum/verificatum-vcr.git && cd verificatum-vcr && make -f Makefile.build && ./configure --enable-vmgj --enable-vecj && make && sudo make install && cd - && sudo /sbin/ldconfig
    - echo $TRAVIS_BUILD_DIR
    - sudo cat /home/travis/build/verificatum/verificatum-vcr/bin/vcr-3.0.3-info
    

script:
    - make -f Makefile.build && ./configure && make && make check
